<dialog id="filter_modal" class="modal">
    <div class="modal-box w-11/12 max-w-2xl">
        <!-- Modal header -->
        <div class="flex items-center justify-between pb-4 border-b border-gray-200 dark:border-gray-600">
            <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                Filter Options
            </h3>
            <button type="button" onclick="document.getElementById('filter_modal').close()" class="btn btn-sm btn-circle btn-ghost">
                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                </svg>
            </button>
        </div>

        <!-- Modal body -->
        <form id="filter-form" class="py-6 space-y-6">

            <!-- Faculty Section -->
            <div>
                <h5 class="text-base font-semibold mb-3">Faculty</h5>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-2">
                    <label class="label cursor-pointer justify-start gap-2">
                        <input type="checkbox" class="checkbox checkbox-primary checkbox-sm" name="faculty" value="analytics"/>
                        <span class="label-text">Analytics</span>
                    </label>
                    <label class="label cursor-pointer justify-start gap-2">
                        <input type="checkbox" class="checkbox checkbox-primary checkbox-sm" name="faculty" value="business"/>
                        <span class="label-text">Business</span>
                    </label>
                    <label class="label cursor-pointer justify-start gap-2">
                        <input type="checkbox" class="checkbox checkbox-primary checkbox-sm" name="faculty" value="Engineering and Information Technology"/>
                        <span class="label-text">FEIT</span>
                    </label>
                    <label class="label cursor-pointer justify-start gap-2">
                        <input type="checkbox" class="checkbox checkbox-primary checkbox-sm" name="faculty" value="Law"/>
                        <span class="label-text">Law</span>
                    </label>
                    <label class="label cursor-pointer justify-start gap-2">
                        <input type="checkbox" class="checkbox checkbox-primary checkbox-sm" name="faculty" value="health"/>
                        <span class="label-text">Health</span>
                    </label>
                    <label class="label cursor-pointer justify-start gap-2">
                        <input type="checkbox" class="checkbox checkbox-primary checkbox-sm" name="faculty" value="science"/>
                        <span class="label-text">Science</span>
                    </label>
                </div>
            </div>

            <!-- Session Section -->
            <div>
                <h5 class="text-base font-semibold mb-3">Session</h5>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-2">
                    <label class="label cursor-pointer justify-start gap-2">
                        <input type="checkbox" class="checkbox checkbox-primary checkbox-sm" name="session" value="Autumn"/>
                        <span class="label-text">Autumn</span>
                    </label>
                    <label class="label cursor-pointer justify-start gap-2">
                        <input type="checkbox" class="checkbox checkbox-primary checkbox-sm" name="session" value="Spring"/>
                        <span class="label-text">Spring</span>
                    </label>
                    <label class="label cursor-pointer justify-start gap-2">
                        <input type="checkbox" class="checkbox checkbox-primary checkbox-sm" name="session" value="Summer"/>
                        <span class="label-text">Summer</span>
                    </label>
                    <label class="label cursor-pointer justify-start gap-2">
                        <input type="checkbox" class="checkbox checkbox-primary checkbox-sm" name="session" value="July"/>
                        <span class="label-text">July</span>
                    </label>
                    <label class="label cursor-pointer justify-start gap-2">
                        <input type="checkbox" class="checkbox checkbox-primary checkbox-sm" name="session" value="Unavailable"/>
                        <span class="label-text">Unavailable</span>
                    </label>
                </div>
            </div>
        </form>

        <!-- Modal footer -->
        <div class="modal-action border-t border-gray-200 dark:border-gray-600 pt-4">
            <button type="button" onclick="clearFilters()" class="btn btn-outline">Clear All</button>
            <button type="button"
                    onclick="applyFilters()"
                    class="btn btn-primary"
                    hx-get="{% url 'filter_courses' %}"
                    hx-target="#course-list"
                    hx-indicator="#search-indicator"
                    hx-include="#filter-form">
                Apply
            </button>
        </div>
    </div>

    <form method="dialog" class="modal-backdrop">
        <button>close</button>
    </form>
</dialog>

<script>
    function clearFilters() {
        // Uncheck all checkboxes in the form
        const checkboxes = document.querySelectorAll('#filter_modal input[type="checkbox"]');
        checkboxes.forEach(checkbox => checkbox.checked = false);
    }

    function applyFilters() {
        // Close the modal after applying filters
        document.getElementById('filter_modal').close();
    }
</script>